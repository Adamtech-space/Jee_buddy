<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="JEE Buddy - Your AI-powered JEE preparation companion"
    />
    
    <!-- Google Analytics -->
    <script>
      // Debug flag for local testing
      window.GA_DEBUG = window.location.hostname === 'localhost';
      
      // Initialize dataLayer
      window.dataLayer = window.dataLayer || [];
      function gtag(){
        dataLayer.push(arguments);
        if (window.GA_DEBUG) {
          console.log('üìä GA Call:', ...arguments);
        }
      }
      
      // Make gtag available globally
      window.gtag = gtag;
      
      // Error handler for GA script
      window.gaLoadError = function(error) {
        console.error('‚ùå GA Script load error:', error);
      };
    </script>
    
    <!-- Load GA script with error handling -->
    <script 
      async 
      src="https://www.googletagmanager.com/gtag/js?id=G-95Y1Z3HJSF"
      onload="window.gaLoaded=true"
      onerror="window.gaLoadError(event)"
    ></script>
    
    <!-- Initialize GA -->
    <script>
      try {
        gtag('js', new Date());
        gtag('config', 'G-95Y1Z3HJSF', {
          debug_mode: window.GA_DEBUG,
          send_page_view: false,
          cookie_domain: window.GA_DEBUG ? 'localhost' : 'jeebuddy.in',
          cookie_flags: 'SameSite=Lax',
          transport_url: 'https://www.google-analytics.com',
          custom_map: {
            dimension1: 'page_path',
            dimension2: 'client_id'
          }
        });
        console.log('‚úÖ GA config initialized');
      } catch (error) {
        console.error('‚ùå GA config error:', error);
      }
    </script>
    
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>JEE Buddy</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html> 